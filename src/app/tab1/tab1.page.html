<ion-header [translucent]="true">
  <ion-toolbar color="cuscuz-preto">
    <ion-title class="ion-text-center">
      {{titulo}} <span *ngIf="edicao">- Edição {{edicao}}</span>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" color="cuscuz">

  <ion-searchbar
    (ionInput)="buscarInscrito($event)"
    placeholder="Buscar"
    debounce="300">
  </ion-searchbar>

  <ion-list *ngIf="listaInscritos.length > 0" color="secondary">
    <ion-item>
      <ion-label class="ion-text-center">
        <strong>{{tamanho}} inscrito(s) encontrado(s)</strong>
      </ion-label>
    </ion-item>

    <ion-item-sliding *ngFor="let inscrito of listaInscritos">

      <ion-item lines="full">
        <ion-label class="ion-text-wrap">
          <h1><strong>{{inscrito.nome}}</strong></h1>
          <p>{{inscrito.email}}</p>
          <p>
            <ion-badge [color]="inscrito.presente1 ? 'success' : 'medium'">
              Dia 1: {{inscrito.presente1 ? '✅' : '❌'}}
            </ion-badge>
            <ion-badge [color]="inscrito.presente2 ? 'success' : 'medium'" style="margin-left: 8px;">
              Dia 2: {{inscrito.presente2 ? '✅' : '❌'}}
            </ion-badge>
          </p>
        </ion-label>

        <div slot="end" style="display: flex; flex-direction: column; gap: 12px; margin-left: 16px;">
          <ion-checkbox
            [checked]="inscrito.presente1"
            (ionChange)="exibirAlertaPresenca1(inscrito)"
            labelPlacement="fixed">
            Dia 1
          </ion-checkbox>

          <ion-checkbox
            [checked]="inscrito.presente2"
            (ionChange)="exibirAlertaPresenca2(inscrito)"
            labelPlacement="fixed">
            Dia 2
          </ion-checkbox>
        </div>
      </ion-item>

      <ion-item-options side="end">
        <ion-item-option color="primary" (click)="exibirAlertaPresenca1(inscrito)">
          <ion-icon slot="icon-only" name="checkmark-circle"></ion-icon>
          Dia 1
        </ion-item-option>
        <ion-item-option color="secondary" (click)="exibirAlertaPresenca2(inscrito)">
          <ion-icon slot="icon-only" name="checkmark-circle"></ion-icon>
          Dia 2
        </ion-item-option>
      </ion-item-options>

    </ion-item-sliding>
  </ion-list>

  <div *ngIf="listaInscritos.length === 0" class="ion-padding">
    <ion-card color="light">
      <ion-card-header>
        <ion-card-title class="ion-text-center">
          <ion-icon name="search-outline" size="large"></ion-icon>
        </ion-card-title>
        <ion-card-subtitle class="ion-text-center">
          Busca de Inscritos
        </ion-card-subtitle>
      </ion-card-header>

      <ion-card-content class="ion-text-center">
        <p>Digite o nome do inscrito no campo de busca acima</p>
        <small>Os resultados aparecerão aqui</small>
      </ion-card-content>
    </ion-card>
  </div>

</ion-content>
